@0
# SIGNAL
# MULTIPLIER

@1
MOV UP RIGHT

@2
MOV UP DOWN
MOV LEFT DOWN

@3


@4
# SEND B DOWN
# A TIMES IN A ROW

@5
^:MOV UP ACC #B
  SWP
  MOV UP ACC #A

LOOP: #CONTINUE?
  JGZ GO
END:  #STOP ADDING
  MOV -999 DOWN
  JMP ^
GO:
  SUB 1 # DECR A
  SWP   # B
  MOV ACC DOWN
  SWP   # REMAIN A
  JMP LOOP

@6
# ADD B INTO
# ACCUMULATOR
# UNTIL -999
# IS READ
# (AFTER #A SENDS)

# BOUNCE
# ACCUMULATED
# SUM TO RIGHT
MOV RIGHT RIGHT

@7
^:MOV UP ACC   #B
  JLZ SEND

SUM_MORE:
  MOV ACC LEFT #B
  SWP #SUM SO FAR
  ADD LEFT #SUM+B
  SAV
  JMP ^

SEND:
  SWP #GET SUM
  MOV ACC DOWN
  MOV 0 ACC #RESET
  SAV       #RESET

@8

